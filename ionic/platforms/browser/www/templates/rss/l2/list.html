<ion-view sb-page-background
          class="rss-list rss-l2">
    <ion-nav-title>{{ page_title }}</ion-nav-title>

    <ion-content>
        <div class="loader"
             ng-show="is_loading">
            <ion-spinner class="spinner-custom"></ion-spinner>
        </div>

        <div ng-show="!is_loading && collection.length">
            <div class="list row"
                 ng-class="{'card' : card_design}"
                 ng-show="collection.length">
                 ng-repeat="chunks in collection_chunks" >
                <div class="col col-50"
                     ng-click="showItem(item)"
                     ng-repeat="item in chunks">
                    <div class="item item-custom item-body"
                         ng-if="item">
                        <div class="item-image"
                             ng-if="item.picture" style="background-image:url('{{ item.picture }}')">
                        </div>
                        <div class="item-content">
                            <h2>{{ item.title ? item.title : item.author }}</h2>

                            <p ng-if="item.subtitle && !item.subtitle_html"
                               ng-bind-html="item.subtitle | trusted_html"></p>
                            <p ng-if="item.subtitle_html"
                               ng-bind-html="item.subtitle_html | trusted_html"></p>

                            <p ng-if="!item.subtitle && item.message">{{ item.message }}</p>
                        </div>
                        <div class="item-image"
                             ng-if="!item.picture">
                            <img ng-src="{{ picture_fallback }}" />
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <div class="list"
             ng-class="{'card' : card_design}"
             ng-show="!is_loading && !collection.length">
            <div class="item text-center item-custom">
                {{ "No items found" | translate:"rss" }}
            </div>
        </div>

        <style type="text/css">
            .rss-l2 .list.row {
                margin-bottom: 5px;
                padding: 0
            }

            .rss-l2 .list.row .item {
                height: 250px
            }

            .rss-l2 .list.row .item-image {
                height: 60%;
                background-repeat: no-repeat;
                background-position: center center;
                background-size: cover;
            }

            .rss-l2 .list.row .item-content {
                height: 40%
            }
        </style>

    </ion-content>

</ion-view>